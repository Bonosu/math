set fenc= utf-8
scriptencoding=utf-8
set number
syntax on
set nobackup
set noswapfile
set autoread
set hidden
set showcmd
set autoindent
set visualbell
set showmatch
set wildmode=list:longest
set history=5000
set whichwrap=b,s,h,l,<,>,[,],~
nnoremap j gj
nnoremap k gk
nnoremap <down> gj
nnoremap <up> gk
nnoremap <Left> :call Html()

set clipboard+=unnamed

set ignorecase
set smartcase
set incsearch
set wrapscan
set hlsearch
nmap <Esc><Esc> :nohlsearch<CR><Esc>
inoremap <silent> jj <Esc>


if &compatible
  set nocompatible
endif

"dein.vimディレクトリをruntimepathに追加する
set runtimepath+=~/vimfiles/bundles/repos/github.com/Shougo/dein.vim

"以下定型文
if dein#load_state("~/vimfiles/bundles")
  call dein#begin("~/vimfiles/bundles")
    call dein#add("~/vimfiles/bundles/repos/github.com/Shougo/dein.vim")
    
      "好きなプラグインを dein#add() 追加していく
      "call dein#add('好きなプラグイン')
      "call dein#add('')
      call dein#add('vim-airline/vim-airline')
     " call dein#add('JamshedVesuna/vim-markdown-preview')
     if has('job') && has('channel') && ('timers')
	     call dein#add('w0rp/ale')
     else
	     call dein#add('vim-syntastic/syntastic')
     endif
      call dein#add('plasticboy/vim-markdown')
      call dein#add('kannokanno/previm')
      call dein#add('tyru/open-browser.vim')


    "caln.vimディレクトリをruntimepathに追加する
    set runtimepath+=~/vimfiles/bundles/repos/github.com/Shougo/dein.vim
   call dein#end()
  call dein#save_state()
endif

filetype plugin indent on
syntax enable

if dein#check_install()
  call dein#install()
endif

""" markdown {{{
autocmd BufRead, BufNewFile *.mkd  set filetype=markdown
autocmd BufRead, BufNewfile *.md  set filetype=markdown
" Need: kannokanno/previm
nnoremap <silent> <C-p> :PrevimOpen<CR> "Ctrl-p でプレビュー
"自動で折りたたまないように
let g:vim_markdown_folding_disabled=1
""" }}}markdown

function! Html ()
	let tmp = ".tmp.html"
	let command = "pandoc " . expand("%:p") . " -o " . tmp
	let command2 = "start " . tmp
	let command3 = "rm " . tmp
	call system(command)
	call system(command2)
	call system(command3)
endfunction
